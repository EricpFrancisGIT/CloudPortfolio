##  Laying the Foundation—Creating the First VPC for Otsego.
![Picture1](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/46f7d531-d245-4c50-a55a-5e6df7ee184a)

## Introduction
Good morning readers and welcome back to this cloud journey with me and my made-up company, Otsego Industries. The last time we were together, I had just created the account in AWS, gave my billing information, and then created the first Admin-level accounts to start building with, along with permissions and even an Admin group.  Now comes the fun part, creating the first VPC for Otsego.  Now let’s get to the meat of the issue.

## Prerequisites
When you first get into the cloud provider of your choice, you would think its just lift and shift your servers into the cloud and boom, it works! No issues, right?  Wrong.  That kind of thinking is something that we Administrators have had to impart to our users, our higher ups and indeed some of our fellow Administrators.  Just because you hear that moving to the cloud is easy, doesn’t mean you have to put in the work.  Before anything, you need to lay the foundation of your footprint into the cloud. What are you going to be need beforehand? Based on my own experience, yours may vary dear reader, this is what you will need:
o	The cloud provider of your choice
o	An account set up.
o	Username/password

## Documentation

Many of us in our chosen fields have had to change and adapt our way of thinking as well as the tools that we have at our disposal. Instead of having big bulky servers in our datacenter, miles and miles of cabling from switches and routers, storage arrays and power strips, we now have a few cabinets with servers, storage and cabling nicely organized feeding into our central network hub/switch/core router and a virtualization hypervisor (VMWare, Proxmox, Hyper-V) to now getting into the cloud itself. The foundation of the cloud, of your company footprint in the cloud, is the implementation of a VPC. 

You might be scratching your head going “ok Eric, what are you talking about?  What is a VPC?”  Excellent question, and here is the barebones answer to your question.  A VPC or Virtual Private Cloud is typically defined as “the division of a service provider's public cloud multi-tenant architecture to support private cloud computing” (Gillis & Knapp, 2023).  Think of it this way: your company’s infrastructure is going to be occupying a section of the cloud providers equipment like you would occupy an apartment, but you would only be paying for what you consume in terms of compute, storage, databases, and networking. 
Now let us get to the fun part.  Using the credentials I created from the previous demonstration, I log into my admin account for Otsego in AWS, and I am greeted with our home page we all know and love: 

![Picture2](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/3169dcfd-ca25-4334-8c2e-368a4cbf403e)

Once there I locate the selection for VPC, I click and get directed over to the landing page for VPC. At the top I can select either “Create VPC” or “Launch EC2 instances” which is tempting, however that is not the point of this.  We are going to select Create VPC first before anything. 
 
 ![image](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/d8a54d29-d8b2-4276-8a71-c0683372acfd)

Now I am greeted with the options to do VPC only, or VPC and few more options which will help streamline the build process. I am not going to go with the autogenerated tag of “project” instead opting for going for a naming convention which I am hoping my boss will approve of “Otsego_”.  Next, I am going to be trimming the /16 to a /18, because I am certain I am not going to need 65,000 IPv4 addresses, and we haven’t implemented IPv6 in our infrastructure.  Given that this is merely a Proof of Concept, I am not going to have a dedicated tenancy however that might change if the higher-ups want to have that. 

My next selection is to have as many availability zones as possible just in case one AZ goes down or if there is a disaster that takes out 2 of them, so my infrastructure will always be available, as well as the amount of public and private subnets because there will be servers and applications that will need internet access in the public subnets, however I am going to only put 1 NAT gateway for the private subnets which will more than likely cause a bit of congestion or be a bottleneck if this is approved of, but for this proof of concept it will do. 

There will not be a VPC endpoint however I could setup something like an S3 bucket for logs, but I will refrain from that until it is time to deploy. So, as you can see with this preview, I have some of the bases covered and I am happy with these options:

![image](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/265ee980-ef37-4b02-a3e1-a5c9a52c6545)

Having reviewed it to make sure nothing was missed, I went ahead and selected to create the VPC, the process of which took a little bit of time however in the grand view of it all, it helps streamlined this build out quite nicely. 

![image](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/ca5cc7d0-df0e-4dba-8028-d0d5c45dd42e)

So now my VPC is created, I have checked to make sure that the subnets, routing tables, NAT gateway, EIPs are completed successfully.  YAY! So, you might be thinking “I know I can consider it a success, right?  Everything is up and running and now I can simply tell my director that it works.”  Not so fast dear reader because we as administrators know above all: 
It’s one thing to just simply say yes it works, its another thing entirely to show that this is a success.  So, I will say I was incorrect to say that I am not going to launch an EC2 instance, I will do exactly that.  With that in mind, lets get that started now.  

So now I go to EC2 and arrive at the dashboard where I can either migrate a server (not yet though) or launch an EC2 instance. 
![image](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/3aea0aa1-ac78-4569-9d29-b38c82aa20a7)
 
Now we come to getting the configuration details of this instance. Given that this is only going to be used as a simple POC for a webserver, this server will be configured in the free tier with a relatively small amount of memory and storage which you can see here:

![image](https://github.com/EricpFrancisGIT/CloudPortfolio/assets/158304673/8378c47d-2d13-4330-a49e-b342f6db4ac8)

Just to err on the side of caution I will be creating 2 keypairs, 1 for a Linux-based ec2 instance, another for a Windows instance.  Going forward, should the migration be approved, any additional keypairs will definitely be created as well as be secured. The network settings were next, and I selected the Otsego POC VPC that was just created, putting it in the first of 3 public subnets and had the option to enable the auto-assigning of a Public IP.  The next option that I have to consider was the security groups, something we don’t have at Otsego.  Another feather in the cap for cloud computing in my opinion.  Here is where I configured the security group to allow both SSH, HTTP and HTTPS traffic to come into the ec2 instance, any other kind of traffic coming in will not be allowed to pass like Gandalf told the Balrog at the bridge in Moria as you can see here:
 
Figure 7 Otsego Web Server Security Group
This security group is one I am going to be keeping in place when the migration and build activities are approved. You can see that I can control the inbound rules that are allowed to pass to the webserver, and which ones are not. Nifty way to harden and implement better security than what I have going on currently in the datacenter right now, and this would make for another plus in the migration to the cloud.  So now I have gotten my options selected as you see here, I can spin this one up and watch the magic happen.
 
Figure 8 EC2 options.
With that, my first EC2 instance is running!! Otsego’s presence in the AWS Sphere is now live, at least for now. Again, being the administrators we are, we cannot simply assume that we must check and verify.  With that in mind, I must connect to it, which I do using tool EC2 Instance Connect from AWS which will prove useful to administrators who could be joining the company but are not used to using tools like PuTTY.  As shown in Figure 9, I can get this into it easy with a click of the “connect” button which I do with anticipation.
 
Figure 9 AWS EC2 Connect
Huzzah!! I have now successfully connected to it and already I am presented with the need to update the instance. Guess I will have to create a gold image prior to migration, adding that to my list of “to-dos” as you see.  
Figure 10 Successful Connection
Being the responsible administrator, I run the “yum update” command successfully and get the patching done, didn’t take too long nor did I have to restart the instance.  
Figure 11 Updating EC2 Instance
	However, I need to show definitive proof that this worked, that my director will see the benefits of going to the cloud, so I proceed a little further and decide to make this a nginx-based webserver.  The process seems to have been updated because instead of running the usual command “sudo yum install nginx”, I am presented with an error and a suggested alternative.  
 
Figure 12 Installing NGINX
Using that command, I approve the installation and then get nginx installed successfully with all the interdependencies made. However, I do need to do a little more legwork by checking that the nginx service is started, which it wasn't but got it started. The last step was to check to see if the Security Groups I had configured were working. To do that I go and grab the Public IPv4 address, select “open address” and crossing as many of my fingers that I was successful.


 
Figure 13 Nginx Running
So now I have a verified ec2 instance within AWS, a VPC with 3 public and 3 private subnets, routing with an egress to the internet verified as you can see in the next figure from the EC2 instance, security groups and a NAT gateway for private instances.  
 
Figure 14 Route tracing to google.
	Now one thing that I would impart to you all, either in a evaluation purpose like this scenario, or even demoing/building up your skills in cloud, it would be this:  CLEAN UP.  That means at least for now, I am going to be removing everything I have created for this: the VPC, Routing tables, subnets, ec2 instances, NAT gateways, internet gateways, EVERYTHING. If you do not, itll rack up quite the bill, and that is something that you do not want at all.
	Well fellow readers, now I must go present this to my director and show him that yes “if you build it, they will come.”  I will let you all know how it goes, so keep your fingers crossed for a good outcome. Have yourselves a good day, keep your servers patched and your networks humming. 

	







References
Gillis, A. S., & Knapp, K. (2023, March 8). virtual private cloud (VPC). Cloud Computing. https://www.techtarget.com/searchcloudcomputing/definition/virtual-private-cloud-VPC

